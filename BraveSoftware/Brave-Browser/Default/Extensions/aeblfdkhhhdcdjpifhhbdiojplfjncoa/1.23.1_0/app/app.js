/*! For license information please see app.js.LICENSE.txt */
(()=>{var e=[,(e,t,n)=>{"use strict";e.exports=n(2)},(e,t,n)=>{"use strict";n(3);var o=n(4),i=60103;if(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var s=Symbol.for;i=s("react.element"),t.Fragment=s("react.fragment")}var a=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var o,s={},l=null,d=null;for(o in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(d=t.ref),t)r.call(t,o)&&!c.hasOwnProperty(o)&&(s[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===s[o]&&(s[o]=t[o]);return{$$typeof:i,type:e,key:l,ref:d,props:s,_owner:a.current}}t.jsx=l,t.jsxs=l},e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach((function(e){o[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}()?Object.assign:function(e,s){for(var a,r,c=i(e),l=1;l<arguments.length;l++){for(var d in a=Object(arguments[l]))n.call(a,d)&&(c[d]=a[d]);if(t){r=t(a);for(var u=0;u<r.length;u++)o.call(a,r[u])&&(c[r[u]]=a[r[u]])}}return c}},e=>{"use strict";e.exports=React},(e,t,n)=>{"use strict";var o=n(6);t.CN=o.Plural,o.generator;var i=n(7);t.T=i.default,i.makeBasicT,i.makeT},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=/\s/g,o=/\W/g;t.generator={plain:function(e){return e},hyphens:function(e){return e.trim().replace(n,"-").replace(o,"-")}},t.Plural=function(e,t){var n=t.zero,o=t.one;return"{"+e+", plural,\n"+(n?"\t=0{"+n+"}\n":"")+(o?"\tone{"+o+"}\n":"")+"\tother{"+t.other+"}}"};var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};t.splitAndEscapeReplacements=function(e){var t={},n={};for(var o in e)if(e.hasOwnProperty(o)){var s=e[o];"function"==typeof s?n[o]=s:t[o]="string"==typeof s?s.replace(/[&<>"']/g,(function(e){return i[e]})):s}return[t,n]},t.assign=function(e,t){var n=Object(e);for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),i=n(6),s=n(9),a=n(10);t.makeBasicT=function(){var e={},t="en",n=i.generator.hyphens,o=function(e){return n(e)},r=function(n,o,i){void 0===o&&(o={}),void 0===i&&(i="");var a=function(e,t,n){var o=e[t],i=e.en;return o&&o[n]?o[n]:i&&i[n]?i[n]:""}(e,t,n)||i||n;return"string"==typeof a?s.default(a,o):a(o)},c=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n=""),r(n||o(e),t,e)},l={$:function(e,t,n){void 0===t&&(t={}),void 0===n&&(n="");var o=i.splitAndEscapeReplacements(t),s=o[0],r=o[1],l=c(e,s,n);return a.default(l,r)},generateId:o,locale:function(){return t},lookup:r,set:function(o){return void 0===o&&(o={}),e=o.messages||e,t=o.locale||t,n=o.idGenerator||n,{messages:e,locale:t,idGenerator:n}}};return i.assign(c,l)},t.makeT=function(){var e=t.makeBasicT(),n=function(e){if("undefined"==typeof Intl){var t=function(){throw new Error("Missing Intl")};return{date:t,number:t}}try{Intl.DateTimeFormat(),(new Date).toLocaleString(),(new Date).toLocaleDateString(),(new Date).toLocaleTimeString()}catch(e){Date.prototype.toLocaleString=Date.prototype.toString,Date.prototype.toLocaleDateString=Date.prototype.toDateString,Date.prototype.toLocaleTimeString=Date.prototype.toTimeString,Intl.DateTimeFormat=function(){var e=Intl.DateTimeFormat;function t(){var t=Array.prototype.slice.apply(arguments);return t[0]=t[0]||"en-US",t[1]=t[1]||{},t[1].timeZone=t[1].timeZone||"America/Toronto",e.apply(this,t)}return t.prototype=e.prototype,t}()}var n=o.default(Intl.DateTimeFormat),i=o.default(Intl.NumberFormat);return{date:function(t,i,s){void 0===i&&(i="long"),void 0===s&&(s=e());var a=o.dateTimeFormats[i]||o.dateTimeFormats.long;return n(s,a).format(t)},number:function(t,n,s){void 0===n&&(n="decimal"),void 0===s&&(s=e());var a=o.numberFormats[n]||o.numberFormats.decimal;return i(s,a).format(t)}}}(e.locale);return i.assign(e,n)},t.default=t.makeT()},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dateTimeFormats={short:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},dateTime:{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"}},t.numberFormats={currency:{style:"currency",currency:"USD"},decimal:{style:"decimal"},percent:{style:"percent"}},t.default=function(e){var t={};return function(n,o){var i=Array.prototype.slice.call(arguments),s=n+"-"+JSON.stringify(o);if(s in t)return t[s];var a,r=new((a=Function.prototype.bind).call.apply(a,[e,null].concat(i)));return t[s]=r,r}}},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="{",o="}";t.default=function(e,t){if(!t)return e;for(var i="",s=[],a=0;a<e.length;a++)switch(e.charAt(a)){case n:s.push(i),i="";break;case o:s.push(t[i]),i="";break;default:i+=e.charAt(a)}return s.push(i),s.join("")}},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o="wrap";t.default=function(e,t){void 0===n&&(n=new DOMParser);var s=n.parseFromString("<wrap>"+e+"</"+"wrap>","text/xml");if(!s.firstChild||s.firstChild.nodeName!==o)throw new Error("Could not parse XML string");return i(s.firstChild,t,!0)};function i(e,t,n){if(void 0===n&&(n=!1),3===e.nodeType)return e.nodeValue?[e.nodeValue]:[];if(1===e.nodeType){var o=Array.prototype.slice.call(e.childNodes).reduce((function(e,n){return e.concat(i(n,t))}),[]);return n||!t[e.nodeName]?o:[t[e.nodeName].apply(t,o)]}return[]}},(e,t)=>{var n;!function(){"use strict";var o={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var s=typeof n;if("string"===s||"number"===s)e.push(n);else if(Array.isArray(n)&&n.length){var a=i.apply(null,n);a&&e.push(a)}else if("object"===s)for(var r in n)o.call(n,r)&&n[r]&&e.push(r)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},(e,t,n)=>{e.exports=n(13)()},(e,t,n)=>{"use strict";var o=n(14);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,a){if(a!==o){var r=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw r.name="Invariant Violation",r}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},e=>{"use strict";var t=function(){};e.exports=t},e=>{"use strict";e.exports=function(e,t,n,o,i,s,a,r){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,o,i,s,a,r],d=0;(c=new Error(t.replace(/%s/g,(function(){return l[d++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},(e,t,n)=>{var o=n(18);e.exports=p,e.exports.parse=s,e.exports.compile=function(e,t){return r(s(e,t),t)},e.exports.tokensToFunction=r,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function s(e,t){for(var n,o=[],s=0,a=0,r="",d=t&&t.delimiter||"/";null!=(n=i.exec(e));){var u=n[0],h=n[1],p=n.index;if(r+=e.slice(a,p),a=p+u.length,h)r+=h[1];else{var v=e[a],f=n[2],g=n[3],m=n[4],b=n[5],j=n[6],y=n[7];r&&(o.push(r),r="");var x=null!=f&&null!=v&&v!==f,w="+"===j||"*"===j,O="?"===j||"*"===j,k=n[2]||d,C=m||b;o.push({name:g||s++,prefix:f||"",delimiter:k,optional:O,repeat:w,partial:x,asterisk:!!y,pattern:C?l(C):y?".*":"[^"+c(k)+"]+?"})}}return a<e.length&&(r+=e.substr(a)),r&&o.push(r),o}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function r(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"==typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",u(t)));return function(t,i){for(var s="",r=t||{},c=(i||{}).pretty?a:encodeURIComponent,l=0;l<e.length;l++){var d=e[l];if("string"!=typeof d){var u,h=r[d.name];if(null==h){if(d.optional){d.partial&&(s+=d.prefix);continue}throw new TypeError('Expected "'+d.name+'" to be defined')}if(o(h)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var p=0;p<h.length;p++){if(u=c(h[p]),!n[l].test(u))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(u)+"`");s+=(0===p?d.prefix:d.delimiter)+u}}else{if(u=d.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):c(h),!n[l].test(u))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+u+'"');s+=d.prefix+u}}else s+=d}return s}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function d(e,t){return e.keys=t,e}function u(e){return e&&e.sensitive?"":"i"}function h(e,t,n){o(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,s=!1!==n.end,a="",r=0;r<e.length;r++){var l=e[r];if("string"==typeof l)a+=c(l);else{var h=c(l.prefix),p="(?:"+l.pattern+")";t.push(l),l.repeat&&(p+="(?:"+h+p+")*"),a+=p=l.optional?l.partial?h+"("+p+")?":"(?:"+h+"("+p+"))?":h+"("+p+")"}}var v=c(n.delimiter||"/"),f=a.slice(-v.length)===v;return i||(a=(f?a.slice(0,-v.length):a)+"(?:"+v+"(?=$))?"),a+=s?"$":i&&f?"":"(?="+v+"|$)",d(new RegExp("^"+a,u(n)),t)}function p(e,t,n){return o(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var o=0;o<n.length;o++)t.push({name:o,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return d(e,t)}(e,t):o(e)?function(e,t,n){for(var o=[],i=0;i<e.length;i++)o.push(p(e[i],t,n).source);return d(new RegExp("(?:"+o.join("|")+")",u(n)),t)}(e,t,n):function(e,t,n){return h(s(e,n),t,n)}(e,t,n)}},e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}}],t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(1);const t=ReactDOM;var o=n(15),i=n.n(o),s=n(4),a=n.n(s),r=n(12),c=n.n(r);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function d(e){return"/"===e.charAt(0)}function u(e,t){for(var n=t,o=n+1,i=e.length;o<i;n+=1,o+=1)e[n]=e[o];e.pop()}const h=function(e,t){void 0===t&&(t="");var n,o=e&&e.split("/")||[],i=t&&t.split("/")||[],s=e&&d(e),a=t&&d(t),r=s||a;if(e&&d(e)?i=o:o.length&&(i.pop(),i=i.concat(o)),!i.length)return"/";if(i.length){var c=i[i.length-1];n="."===c||".."===c||""===c}else n=!1;for(var l=0,h=i.length;h>=0;h--){var p=i[h];"."===p?u(i,h):".."===p?(u(i,h),l++):l&&(u(i,h),l--)}if(!r)for(;l--;l)i.unshift("..");!r||""===i[0]||i[0]&&d(i[0])||i.unshift("");var v=i.join("/");return n&&"/"!==v.substr(-1)&&(v+="/"),v};var p="Invariant failed";const v=function(e,t){if(!e)throw new Error(p)};function f(e){return"/"===e.charAt(0)?e:"/"+e}function g(e){return"/"===e.charAt(0)?e.substr(1):e}function m(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function b(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function j(e){var t=e.pathname,n=e.search,o=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),o&&"#"!==o&&(i+="#"===o.charAt(0)?o:"#"+o),i}function y(e,t,n,o){var i;"string"==typeof e?(i=function(e){var t=e||"/",n="",o="",i=t.indexOf("#");-1!==i&&(o=t.substr(i),t=t.substr(0,i));var s=t.indexOf("?");return-1!==s&&(n=t.substr(s),t=t.substr(0,s)),{pathname:t,search:"?"===n?"":n,hash:"#"===o?"":o}}(e)).state=t:(void 0===(i=l({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),o?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=h(i.pathname,o.pathname)):i.pathname=o.pathname:i.pathname||(i.pathname="/"),i}function x(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,o,i){if(null!=e){var s="function"==typeof e?e(t,n):e;"string"==typeof s?"function"==typeof o?o(s,i):i(!0):i(!1!==s)}else i(!0)},appendListener:function(e){var n=!0;function o(){n&&e.apply(void 0,arguments)}return t.push(o),function(){n=!1,t=t.filter((function(e){return e!==o}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];t.forEach((function(e){return e.apply(void 0,n)}))}}}var w=!("undefined"==typeof window||!window.document||!window.document.createElement);function O(e,t){t(window.confirm(e))}var k="hashchange",C={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+g(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:g,decodePath:f},slash:{encodePath:f,decodePath:f}};function S(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function T(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function N(e){window.location.replace(S(window.location.href)+"#"+e)}function E(e){void 0===e&&(e={}),w||v(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),o=n.getUserConfirmation,i=void 0===o?O:o,s=n.hashType,a=void 0===s?"slash":s,r=e.basename?b(f(e.basename)):"",c=C[a],d=c.encodePath,u=c.decodePath;function h(){var e=u(T());return r&&(e=m(e,r)),y(e)}var p=x();function g(e){l(V,e),V.length=t.length,p.notifyListeners(V.location,V.action)}var E=!1,A=null;function L(){var e,t,n=T(),o=d(n);if(n!==o)N(o);else{var s=h(),a=V.location;if(!E&&(t=s,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(A===j(s))return;A=null,function(e){if(E)E=!1,g();else{var t="POP";p.confirmTransitionTo(e,t,i,(function(n){n?g({action:t,location:e}):function(e){var t=V.location,n=R.lastIndexOf(j(t));-1===n&&(n=0);var o=R.lastIndexOf(j(e));-1===o&&(o=0);var i=n-o;i&&(E=!0,D(i))}(e)}))}}(s)}}var I=T(),P=d(I);I!==P&&N(P);var _=h(),R=[j(_)];function D(e){t.go(e)}var M=0;function F(e){1===(M+=e)&&1===e?window.addEventListener(k,L):0===M&&window.removeEventListener(k,L)}var U=!1;var V={length:t.length,action:"POP",location:_,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=S(window.location.href)),n+"#"+d(r+j(e))},push:function(e,t){var n="PUSH",o=y(e,void 0,void 0,V.location);p.confirmTransitionTo(o,n,i,(function(e){if(e){var t=j(o),i=d(r+t);if(T()!==i){A=t,function(e){window.location.hash=e}(i);var s=R.lastIndexOf(j(V.location)),a=R.slice(0,s+1);a.push(t),R=a,g({action:n,location:o})}else g()}}))},replace:function(e,t){var n="REPLACE",o=y(e,void 0,void 0,V.location);p.confirmTransitionTo(o,n,i,(function(e){if(e){var t=j(o),i=d(r+t);T()!==i&&(A=t,N(i));var s=R.indexOf(j(V.location));-1!==s&&(R[s]=t),g({action:n,location:o})}}))},go:D,goBack:function(){D(-1)},goForward:function(){D(1)},block:function(e){void 0===e&&(e=!1);var t=p.setPrompt(e);return U||(F(1),U=!0),function(){return U&&(U=!1,F(-1)),t()}},listen:function(e){var t=p.appendListener(e);return F(1),function(){F(-1),t()}}};return V}var A=n(16),L=n.n(A),I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var R=function(e){function t(){var n,o;P(this,t);for(var i=arguments.length,s=Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=o=_(this,e.call.apply(e,[this].concat(s))),o.state={match:o.computeMatch(o.props.history.location.pathname)},_(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:I({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},t.prototype.computeMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}},t.prototype.componentWillMount=function(){var e=this,t=this.props,n=t.children,o=t.history;L()(null==n||1===a().Children.count(n),"A <Router> may have only one child element"),this.unlisten=o.listen((function(){e.setState({match:e.computeMatch(o.location.pathname)})}))},t.prototype.componentWillReceiveProps=function(e){i()(this.props.history===e.history,"You cannot change <Router history>")},t.prototype.componentWillUnmount=function(){this.unlisten()},t.prototype.render=function(){var e=this.props.children;return e?a().Children.only(e):null},t}(a().Component);R.propTypes={history:c().object.isRequired,children:c().node},R.contextTypes={router:c().object},R.childContextTypes={router:c().object.isRequired};const D=R;function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var U=function(e){function t(){var n,o;M(this,t);for(var i=arguments.length,s=Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=o=F(this,e.call.apply(e,[this].concat(s))),o.history=E(o.props),F(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){i()(!this.props.history,"<HashRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { HashRouter as Router }`.")},t.prototype.render=function(){return a().createElement(D,{history:this.history,children:this.props.children})},t}(a().Component);U.propTypes={basename:c().string,getUserConfirmation:c().func,hashType:c().oneOf(["hashbang","noslash","slash"]),children:c().node};const V=U;var W=n(5);const z={ar:"ar-arab-eg","az-arab":"az-arab-ir","az-ir":"az-arab-ir",be:"be-cyrl-by",da:"da-latn-dk",el:"el-grek-gr",en:"en-latn-us",fa:"fa-arab-ir",ja:"ja-jpan-jp",ko:"ko-kore-kr",pt:"pt-latn-br",sr:"sr-cyrl-rs","sr-ru":"sr-latn-ru",sv:"sv-latn-se",ta:"ta-taml-in",uk:"uk-cyrl-ua",zh:"zh-hans-cn","zh-hant":"zh-hant-tw","zh-hk":"zh-hant-hk","zh-gb":"zh-hant-gb","zh-us":"zh-hant-us"},B=["az","bg","cs","de","es","fi","fr","hu","it","lt","lv","nl","pl","ro","ru"];const H=new RegExp("^([a-z]{2,3}|\\*)(?:-([a-z]{4}|\\*))?(?:-([a-z]{2}|\\*))?(?:-([a-z]{3}|\\*))?$","i"),$=["language","script","region","variant"];class q{constructor(e){const t=H.exec(e.replace(/_/g,"-"));if(!t)return void(this.isWellFormed=!1);let[,n,o,i,s]=t;n&&(this.language=n.toLowerCase()),o&&(this.script=o[0].toUpperCase()+o.slice(1)),i&&(this.region=i.toUpperCase()),this.variant=s,this.isWellFormed=!0}isEqual(e){return $.every((t=>this[t]===e[t]))}matches(e,t=!1,n=!1){return $.every((o=>t&&void 0===this[o]||n&&void 0===e[o]||this[o]===e[o]))}toString(){return $.map((e=>this[e])).filter((e=>void 0!==e)).join("-")}clearVariants(){this.variant=void 0}clearRegion(){this.region=void 0}addLikelySubtags(){const e=function(e){if(z.hasOwnProperty(e))return new q(z[e]);const t=new q(e);return B.includes(t.language)?(t.region=t.language.toUpperCase(),t):null}(this.toString().toLowerCase());return!!e&&($.forEach((t=>this[t]=e[t])),!0)}}function Y(e,t,n,o,i){let s=e[t];if(void 0!==s){if("boolean"===n?s=new Boolean(s):"string"===n&&(s=String(s)),void 0!==o&&-1===o.indexOf(s))throw new Error("Invalid option value");return s}return i}function G(e,t,n={}){const o=Y(n,"defaultLocale","string"),i=Y(n,"strategy","string",["filtering","matching","lookup"],"filtering");if("lookup"===i&&!o)throw new Error("defaultLocale cannot be undefined for strategy `lookup`");const s=function(e,t,n){const o=new Set,i=new Map;for(let e of t)new q(e).isWellFormed&&i.set(e,new q(e));e:for(const t of e){const e=t.toLowerCase(),s=new q(e);if(void 0!==s.language){for(const t of i.keys())if(e===t.toLowerCase()){if(o.add(t),i.delete(t),"lookup"===n)return Array.from(o);if("filtering"===n)continue;continue e}for(const[e,t]of i.entries())if(t.matches(s,!0,!1)){if(o.add(e),i.delete(e),"lookup"===n)return Array.from(o);if("filtering"===n)continue;continue e}if(s.addLikelySubtags())for(const[e,t]of i.entries())if(t.matches(s,!0,!1)){if(o.add(e),i.delete(e),"lookup"===n)return Array.from(o);if("filtering"===n)continue;continue e}s.clearVariants();for(const[e,t]of i.entries())if(t.matches(s,!0,!0)){if(o.add(e),i.delete(e),"lookup"===n)return Array.from(o);if("filtering"===n)continue;continue e}if(s.clearRegion(),s.addLikelySubtags())for(const[e,t]of i.entries())if(t.matches(s,!0,!1)){if(o.add(e),i.delete(e),"lookup"===n)return Array.from(o);if("filtering"===n)continue;continue e}s.clearRegion();for(const[e,t]of i.entries())if(t.matches(s,!0,!0)){if(o.add(e),i.delete(e),"lookup"===n)return Array.from(o);if("filtering"===n)continue;continue e}}}return Array.from(o)}(Array.from(Object(e)).map((e=>String(e))),Array.from(Object(t)).map((e=>String(e))),i);return"lookup"===i?0===s.length&&s.push(o):o&&!s.includes(o)&&s.push(o),s}const J={en:{localizedName:(0,W.T)("English"),name:"English"},es:{localizedName:(0,W.T)("Spanish"),name:"español"},fr:{localizedName:(0,W.T)("French"),name:"français"},de:{localizedName:(0,W.T)("German"),name:"Deutsch"},it:{localizedName:(0,W.T)("Italian"),name:"italiano"},ja:{localizedName:(0,W.T)("Japanese"),name:"日本語"},pt:{localizedName:(0,W.T)("Portuguese"),name:"português"},ru:{localizedName:(0,W.T)("Russian"),name:"русский"},ko:{localizedName:(0,W.T)("Korean"),name:"한국어"},"zh-CN":{localizedName:(0,W.T)("Chinese, Simplified"),name:"简体中文"},"zh-TW":{localizedName:(0,W.T)("Chinese, Traditional"),name:"繁體中文"}},K=(e=new Intl.Collator("en"))=>{const t=Object.values(J).map(((e,t)=>Object.assign(Object.assign({},e),{id:Object.keys(J)[t]})));return t.sort(((t,n)=>e.compare(t.name,n.name))),t};class X{constructor(e){this.isExcluded=(e,t)=>{const n=this.excluded[e];return void 0!==n&&(t?n.includes(t):n.includes("all"))},this.toggle=(e,t)=>{let n=this.excluded[e];if(void 0===n)n=t?[t]:["all"],this.excluded[e]=n;else if(null===t)-1===n.indexOf("all")?n.push("all"):n.splice(n.indexOf("all"),1);else if(-1===n.indexOf(t))n.push(t),this.excluded[e]=n;else{const o=n.indexOf(t);n.splice(o,1),this.excluded[e]=n}},this.clone=()=>new X(Object.assign({},this.excluded)),this.excluded=e}}const Z=999,Q="config";const ee={autoLockEnabled:!0,autoLockMinutes:10,autoLockOnDeviceSleep:!0,autoSaveEnabled:!0,autoSaveExceptions:[],ignoreAccounts:[],inlineEnabled:!0,inlineShowAutomatically:!0,saveNewItemsIn:"",showNotifications:!0,icon:"color-light",generator:[{passwordType:"smart",length:4},{passwordType:"characters",length:20,requireDigits:!0,requireSymbols:!0},{passwordType:"words",length:4,separatorType:"hyphens",capitalize:!1,fullWords:!0},{passwordType:"pin",length:4},{passwordType:"words",fullWords:!1,length:5,separatorType:"hyphens",capitalize:!1}],defaultPassGenType:"smart",syllables:!1,newHibpEnabled:!1,language:function(){if("undefined"==typeof navigator)return"en";return G(navigator.languages,Object.keys(J),{defaultLocale:"en",strategy:"lookup"})[0]}(),languageChanged:!1,defaultPasswordManager:!1,shouldShowDefaultAutofillPrompt:!1,shouldShowImportPrompt:!1,showTags:!0,shouldShowBuildUpdateNotification:!1,defaultItemList:"suggestions",watchtowerNotifications:!1,shouldShowWatchtowerNotificationsPrompt:!1,hasPromptedForPrivacyIntegration:!1,shouldShowPrivacyIntegrationPrompt:!1};function te(){var e;let t,n=ee;try{t=JSON.parse(null!==(e=localStorage.getItem(Q))&&void 0!==e?e:"")}finally{n=Object.assign(Object.assign({},ee),oe(t)),n!==t&&ne(n)}return n}function ne(e){localStorage.setItem(Q,JSON.stringify(oe(e)))}function oe(e){const t={};function n(e){t[e]=ee[e]}for(const o in e)if(typeof e[o]==typeof ee[o])switch(t[o]=e[o],o){case"autoLockMinutes":if(e[o]<1||e[o]>Z){n(o);break}t[o]=Math.max(0,Math.min(e.autoLockMinutes,Z));break;case"defaultPassGenType":ee.generator.find((t=>t.passwordType===e[o]))||n(o);break;case"icon":["color-light","color-dark","mono-light","mono-dark"].includes(e[o])||n(o);break;case"generator":0!==e.generator.filter((e=>!ee.generator.find((t=>e.passwordType===t.passwordType)))).length&&n(o),e.generator.length!==ee.generator.length&&n(o);break;case"language":e.language in J||n(o)}else n(o);return t}const ie="all-vaults";function se(){let e=localStorage.getItem(ie);e||(e="{}");const t=JSON.parse(e);return new X(t)}var ae=n(17),re=n.n(ae),ce={},le=0,de=function(e,t){var n=""+t.end+t.strict+t.sensitive,o=ce[n]||(ce[n]={});if(o[e])return o[e];var i=[],s={re:re()(e,i,t),keys:i};return le<1e4&&(o[e]=s,le++),s};const ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"==typeof t&&(t={path:t});var o=t,i=o.path,s=o.exact,a=void 0!==s&&s,r=o.strict,c=void 0!==r&&r,l=o.sensitive,d=void 0!==l&&l;if(null==i)return n;var u=de(i,{end:a,strict:c,sensitive:d}),h=u.re,p=u.keys,v=h.exec(e);if(!v)return null;var f=v[0],g=v.slice(1),m=e===f;return a&&!m?null:{path:i,url:"/"===i&&""===f?"/":f,isExact:m,params:p.reduce((function(e,t,n){return e[t.name]=g[n],e}),{})}};function he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ve=function(e){function t(){return he(this,t),pe(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){L()(this.context.router,"You should not use <Switch> outside a <Router>")},t.prototype.componentWillReceiveProps=function(e){i()(!(e.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),i()(!(!e.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},t.prototype.render=function(){var e=this.context.router.route,t=this.props.children,n=this.props.location||e.location,o=void 0,i=void 0;return a().Children.forEach(t,(function(t){if(null==o&&a().isValidElement(t)){var s=t.props,r=s.path,c=s.exact,l=s.strict,d=s.sensitive,u=s.from,h=r||u;i=t,o=ue(n.pathname,{path:h,exact:c,strict:l,sensitive:d},e.match)}})),o?a().cloneElement(i,{location:n,computedMatch:o}):null},t}(a().Component);ve.contextTypes={router:c().shape({route:c().object.isRequired}).isRequired},ve.propTypes={children:c().node,location:c().object};const fe=ve;var ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function be(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var je=function(e){return 0===a().Children.count(e)},ye=function(e){function t(){var n,o;me(this,t);for(var i=arguments.length,s=Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=o=be(this,e.call.apply(e,[this].concat(s))),o.state={match:o.computeMatch(o.props,o.context.router)},be(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:ge({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},t.prototype.computeMatch=function(e,t){var n=e.computedMatch,o=e.location,i=e.path,s=e.strict,a=e.exact,r=e.sensitive;if(n)return n;L()(t,"You should not use <Route> or withRouter() outside a <Router>");var c=t.route,l=(o||c.location).pathname;return ue(l,{path:i,strict:s,exact:a,sensitive:r},c.match)},t.prototype.componentWillMount=function(){i()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),i()(!(this.props.component&&this.props.children&&!je(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),i()(!(this.props.render&&this.props.children&&!je(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},t.prototype.componentWillReceiveProps=function(e,t){i()(!(e.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),i()(!(!e.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(e,t.router)})},t.prototype.render=function(){var e=this.state.match,t=this.props,n=t.children,o=t.component,i=t.render,s=this.context.router,r=s.history,c=s.route,l=s.staticContext,d={match:e,location:this.props.location||c.location,history:r,staticContext:l};return o?e?a().createElement(o,d):null:i?e?i(d):null:"function"==typeof n?n(d):n&&!je(n)?a().Children.only(n):null},t}(a().Component);ye.propTypes={computedMatch:c().object,path:c().string,exact:c().bool,strict:c().bool,sensitive:c().bool,component:c().func,render:c().func,children:c().oneOfType([c().func,c().node]),location:c().object},ye.contextTypes={router:c().shape({history:c().object.isRequired,route:c().object.isRequired,staticContext:c().object})},ye.childContextTypes={router:c().object.isRequired};const xe=ye,we=({id:t,enabled:n,forceDisable:o,onChange:i})=>(0,e.jsx)("div",Object.assign({className:"controls"},{children:(0,e.jsx)("button",Object.assign({id:t,role:"switch","aria-checked":n&&!o,type:"button",onClick:()=>i(!n),disabled:!!o},{children:(0,e.jsx)("div",{className:"thumb"},void 0)}),void 0)}),void 0);function Oe(){return(0,e.jsx)("svg",Object.assign({width:"0",height:"0",display:"none"},{children:(0,e.jsx)("symbol",Object.assign({id:"spinner",viewBox:"0 0 128 128"},{children:(0,e.jsxs)("g",Object.assign({fill:"#000"},{children:[(0,e.jsx)("circle",{cx:"16",cy:"64",r:"16",fillOpacity:"0.12"},void 0),(0,e.jsx)("circle",{cx:"16",cy:"64",r:"16",fillOpacity:"0.12",transform:"rotate(45,64,64)"},void 0),(0,e.jsx)("circle",{cx:"16",cy:"64",r:"16",fillOpacity:"0.12",transform:"rotate(90,64,64)"},void 0),(0,e.jsx)("circle",{cx:"16",cy:"64",r:"16",fillOpacity:"0.12",transform:"rotate(135,64,64)"},void 0),(0,e.jsx)("circle",{cx:"16",cy:"64",r:"16",fillOpacity:"0.2",transform:"rotate(180,64,64)"},void 0),(0,e.jsx)("circle",{cx:"16",cy:"64",r:"16",fillOpacity:"0.42",transform:"rotate(225,64,64)"},void 0),(0,e.jsx)("circle",{cx:"16",cy:"64",r:"16",fillOpacity:"0.67",transform:"rotate(270,64,64)"},void 0),(0,e.jsx)("circle",{cx:"16",cy:"64",r:"16",fillOpacity:"1",transform:"rotate(315,64,64)"},void 0),(0,e.jsx)("animateTransform",{attributeName:"transform",type:"rotate",values:"0 64 64;45 64 64;90 64 64;135 64 64;180 64 64;225 64 64;270 64 64;315 64 64",calcMode:"discrete",dur:"800ms",repeatCount:"indefinite"},void 0)]}),void 0)}),void 0)}),void 0)}const ke=()=>(0,e.jsx)("svg",Object.assign({width:"16px",height:"16px"},{children:(0,e.jsx)("use",{xlinkHref:"#spinner"},void 0)}),void 0);var Ce=n(11),Se=n.n(Ce);const Te=({sections:t,optionRenderer:n,headerRenderer:o,onChange:i,title:a="",listClass:r,id:c,buttonId:l,value:d})=>{const[u,h]=(0,s.useState)(!1),p=(0,s.useRef)(),v=(0,s.useRef)(),f="listbox"+(u?" expanded":""),g=function(e,t){for(const n of e)for(const e of n.options)if(e.value===t)return e;return e.length>0?e[0].options[0]:void 0}(t,d),m=g?g.value:"";return(0,s.useEffect)((()=>{const e=e=>{var t,n;e.target instanceof Node&&((null===(t=p.current)||void 0===t?void 0:t.contains(e.target))||(null===(n=v.current)||void 0===n?void 0:n.contains(e.target))||h(!1))};return document.body.addEventListener("click",e),()=>document.body.removeEventListener("click",e)}),[h]),(0,e.jsxs)("div",Object.assign({className:"fake_select_button"},{children:[(0,e.jsx)("button",Object.assign({id:l,"aria-hidden":"true",tabIndex:0,className:"rounded_button select",onClick:()=>h(!0),ref:p},{children:g&&n(g)}),void 0),(0,e.jsx)("div",Object.assign({id:c,role:"listbox",title:a,tabIndex:-1,className:Se()(r,f),"aria-activedescendant":m,ref:v},{children:t.map((t=>{var s;return(0,e.jsxs)("div",{children:[o&&t.header&&(0,e.jsx)("h3",Object.assign({"aria-hidden":"true",title:t.header.title},{children:o(t.header)}),void 0),t.options.map((t=>{const o=t.value===m,s=o?"active":"";return(0,e.jsx)("div",Object.assign({className:s,role:"option","aria-selected":o,onClick:()=>{h(!1),null==i||i(t)},title:t.title},{children:n(t)}),t.value)}))]},(null===(s=t.header)||void 0===s?void 0:s.title)||a)}))}),void 0)]}),void 0)};const Ne=(...e)=>{if(0===e.length)return"";if(1===e.length)return e[0];let t=e.shift();if(t){for(const n of e)0!==n.length&&("/"===t.slice(-1)&&"/"===n.charAt(0)?t+=n.slice(1):"/"===t.slice(-1)||"/"===n.charAt(0)?t+=n:t=t+"/"+n);return t}return""};function Ee(e){return void 0!==e?navigator.platform.indexOf("Mac")>-1?e.replace("MacCtrl","Ctrl"):e:void 0}s.Component;var Ae;!function(e){e[e.Success=0]="Success",e[e.ErrorNoSavedAccounts=1]="ErrorNoSavedAccounts",e[e.ErrorWrongMasterPassword=2]="ErrorWrongMasterPassword",e[e.ErrorNetworkFailure=3]="ErrorNetworkFailure",e[e.ErrorMFAFailure=4]="ErrorMFAFailure"}(Ae||(Ae={}));function Le(e,t,n){if(e&&n.baseAvatarURL){if(e.avatar)return Ie(n.baseAvatarURL,n.uuid,e.avatar);if("P"===e.type&&t&&t.avatar)return Ie(n.baseAvatarURL,n.uuid,t.avatar);if("E"===e.type&&n.avatar)return Ie(n.baseAvatarURL,n.uuid,n.avatar)}return"/images/popup/avatar-vault-default.png"}function Ie(e,t,n){return"/"===n[0]?Ne(e,n):Ne(e,t,n)}function Pe(){const[e,t]=(0,s.useState)(!1);return[(0,s.useMemo)((()=>{const e=se(),t=[];for(const n in e.excluded)t.push(...e.excluded[n]);return t}),[e]),(0,s.useCallback)(((n,o)=>{const i=se();i.toggle(n,o),function(e){localStorage.setItem(ie,JSON.stringify(e))}(i.excluded),t(!e)}),[e])]}const _e=t=>{const n=(0,s.useMemo)((()=>t.accounts?t.accounts.map((e=>{const n={uuid:e.uuid,name:e.name,email:e.email,type:e.type,avatar:e.avatar,locked:e.locked,vaults:[]};if(!t.itemCache)return n;const o=t.itemCache.vaults[e.uuid];return o?(o.forEach((o=>{o&&n.vaults.push({uuid:o.uuid,name:o.name,email:e.email,type:e.type,avatar:Le(o,t.itemCache.userForAccountUUID(e.uuid),t.itemCache.accountWithUUID(e.uuid))})})),n):n})):[]),[t.itemCache,t.accounts]),[o,i]=Pe();return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("ul",Object.assign({className:"settings"},{children:[n.map((n=>{let s=!1;const a=!n.locked&&n.vaults.map((a=>{const r=!o.includes(a.uuid);return s=s||r,(0,e.jsxs)("li",Object.assign({className:"row vault"},{children:[(0,e.jsxs)("button",Object.assign({className:"openButton noButton",onClick:e=>((e,n,o)=>{e.preventDefault(),t.onOpenVaultDetails(t.itemCache.vaultWithUUID(n,o))})(e,a.uuid,n.uuid)},{children:[(0,e.jsx)("div",Object.assign({className:"avatar vault_avatar indent"},{children:(0,e.jsx)("img",{src:a.avatar},void 0)}),void 0),(0,e.jsx)("span",Object.assign({title:a.name},{children:a.name}),void 0)]}),void 0),(0,e.jsx)(we,{enabled:r,onChange:()=>{return e=a,void i(n.uuid,e.uuid);var e}},void 0)]}),a.uuid)}));return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("li",Object.assign({className:"row vault"},{children:[(0,e.jsx)("div",Object.assign({className:"accountListing","data-name":n.name},{children:(0,e.jsxs)("button",Object.assign({className:"openButton noButton",onClick:e=>((e,n)=>{e.preventDefault(),t.onAccountOpenHomePage(n.uuid)})(e,n)},{children:[(0,e.jsx)("div",Object.assign({className:"avatar"},{children:(0,e.jsx)("img",{src:n.avatar},void 0)}),void 0),(0,e.jsxs)("div",Object.assign({className:"account_info"},{children:[n.locked?(0,e.jsxs)("div",Object.assign({className:"lockedAccount"},{children:[(0,e.jsx)("span",Object.assign({className:"accountName",title:n.name},{children:n.name}),void 0),(0,e.jsxs)("span",Object.assign({className:"badge"},{children:[(0,e.jsx)("img",{src:"/images/padlock-mini-light.svg","aria-hidden":"true"},void 0),(0,W.T)("Locked")]}),void 0)]}),void 0):(0,e.jsx)("span",Object.assign({className:"accountName",title:n.name},{children:n.name}),void 0),"I"!==n.type&&(0,e.jsx)("span",Object.assign({className:"accountEmail",title:n.email},{children:n.email}),void 0)]}),void 0)]}),void 0)}),void 0),(0,e.jsxs)("div",Object.assign({className:"vault_controls"},{children:[(0,e.jsx)("button",Object.assign({className:"rounded_button",onClick:e=>((e,n)=>{e.preventDefault(),t.onAccountSignOut(n.uuid)})(e,n)},{children:(0,W.T)("Sign Out")}),void 0),(0,e.jsx)(we,{forceDisable:n.locked,enabled:s,onChange:()=>{return t=s,void(e=n).vaults.forEach((n=>{const s=o.includes(n.uuid);(!s&&t||s&&!t)&&i(e.uuid,n.uuid)}));var e,t}},void 0)]}),void 0)]}),n.uuid),a]},void 0)})),(0,e.jsx)("li",Object.assign({className:"row vault"},{children:(0,e.jsxs)("a",Object.assign({href:"https://start.1password.com/signin/?auth-only=1",target:"_blank",rel:"noreferrer"},{children:[(0,e.jsx)("div",Object.assign({className:"avatar"},{children:(0,e.jsx)("img",{src:"/images/shared/button_icon-add.svg"},void 0)}),void 0),t.accounts.length>0?(0,W.T)("Sign in to another account"):(0,W.T)("Sign in to an account")]}),void 0)}),void 0)]}),void 0)},void 0)};var Re;!function(e){e[e.All=0]="All",e[e.Watchtower=1]="Watchtower",e[e.SendItem=2]="SendItem"}(Re||(Re={}));class De extends s.Component{constructor(t){super(t),this.onBodyClick=()=>{this.state.iconListExpanded&&this.setState({iconListExpanded:!1}),this.state.saveInListExpanded&&this.setState({saveInListExpanded:!1}),this.state.languageListExpanded&&this.setState({languageListExpanded:!1}),this.state.defaultItemListExpanded&&this.setState({defaultItemListExpanded:!1})},this.onChromeRuntimeMessage=e=>{"settings-page-changed"===e.name&&e.data&&this.handleGetSettingsConfiguration(e.data)},this.handleGetSettingsConfiguration=e=>{this.setState(Object.assign({},e))},this.handleConfigureShortcutClick=e=>{e.preventDefault(),chrome.tabs.create({url:"chrome://extensions/shortcuts"})},this.handleAutoLockEnabledChange=()=>{this.props.updateConfig({autoLockEnabled:!this.props.autoLockEnabled})},this.handleAutoLockDurationChange=e=>{const t=e.target.value;/[0-9]/.test(t)&&this.setState({autoLockInputValue:t})},this.handleAutoLockOnDeviceSleepChange=()=>{this.props.updateConfig({autoLockOnDeviceSleep:!this.props.autoLockOnDeviceSleep})},this.handleAutoSaveChange=()=>{this.props.updateConfig({autoSaveEnabled:!this.props.autoSaveEnabled})},this.handleInlineEnabledChange=()=>{this.props.updateConfig({inlineEnabled:!this.props.inlineEnabled})},this.handleInlineActiveChange=()=>{this.props.updateConfig({inlineShowAutomatically:!this.props.inlineShowAutomatically})},this.handleDefaultPasswordManagerChange=()=>{this.props.updateConfig({defaultPasswordManager:!this.props.defaultPasswordManager,shouldShowDefaultAutofillPrompt:!1})},this.updateAutoLockMinutes=()=>{let e=parseInt(this.state.autoLockInputValue,10);e=Math.max(1,Math.min(e,Z)),this.setState({autoLockInputValue:e.toString()}),this.props.updateConfig({autoLockMinutes:e})},this.updateSaveExceptions=e=>{this.props.updateConfig({autoSaveExceptions:e})},this.createSaveNewItemsInElement=()=>{const t=this.props.accounts.some((e=>!e.locked&&this.props.itemCache.vaults[e.uuid].some((e=>e.uuid===this.props.saveNewItemIn))))?this.props.saveNewItemIn:this.props.defaultVault,n=this.props.accounts.filter((e=>!e.locked)).map((e=>({header:{title:e.name,img:e.avatar},options:this.props.itemCache.vaults.hasOwnProperty(e.uuid)?this.props.itemCache.vaults[e.uuid].map((t=>({value:t.uuid,title:t.name,img:Le(t,this.props.itemCache.userForAccountUUID(e.uuid),this.props.itemCache.accountWithUUID(e.uuid))}))):[]})));return(0,e.jsxs)("li",Object.assign({className:"row"},{children:[(0,e.jsx)("label",Object.assign({htmlFor:"save-new-items-in-button"},{children:(0,W.T)("Save new items in")}),void 0),(0,e.jsx)(Te,{buttonId:"save-new-items-in-button",listClass:"item-list-select",sections:n,optionRenderer:t=>(0,e.jsxs)("span",Object.assign({className:"item-list-select-option"},{children:[(0,e.jsx)("div",Object.assign({className:"vault_icon-mini masked"},{children:(0,e.jsx)("img",{src:t.img,alt:"","aria-hidden":!0},void 0)}),void 0),t.title]}),void 0),headerRenderer:t=>(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",Object.assign({className:"item_icon-mini masked"},{children:(0,e.jsx)("img",{src:t.img},void 0)}),void 0),t.title]},void 0),onChange:this.handleSaveNewItemsInChanged,value:t},void 0)]}),"saveNewItemsIn")},this.createAutoLockElement=()=>{const t=this.state.autoLockInputValue;return(0,e.jsxs)("div",Object.assign({className:"autolock"},{children:[(0,e.jsx)("input",{id:"autoLock-minutes",type:"number",ref:this.minuteStepper,value:t,max:Z,min:1,onClick:()=>{var e;null===(e=this.minuteStepper.current)||void 0===e||e.focus()},onChange:this.handleAutoLockDurationChange,onBlur:this.updateAutoLockMinutes},void 0),(0,e.jsx)("span",{children:(0,W.T)((0,W.CN)("numMinutes",{other:"minutes",one:"minute",zero:"minutes"}),{numMinutes:t},"auto-lock.minutes")},void 0)]}),void 0)},this.handleNotificationChange=e=>{const t={};switch(e){case Re.All:t.showNotifications=!this.props.showNotifications;break;case Re.Watchtower:t.watchtowerNotifications=!this.props.watchtowerNotifications}t.showNotifications&&!t.watchtowerNotifications||(t.shouldShowWatchtowerNotificationsPrompt=!1),this.props.updateConfig(t)},this.handleIconChanged=e=>{this.props.updateConfig({icon:e.value}),this.props.updateIcon()},this.handleLanguageChanged=e=>{this.props.updateConfig({language:e.id,languageChanged:!0}),this.setState({languageListExpanded:!1})},this.handleSaveNewItemsInChanged=e=>{this.props.updateConfig({saveNewItemsIn:e.value}),this.setState({saveInListExpanded:!1})},this.getCurrentKeyboardShortcuts=()=>{chrome.commands.getAll((e=>{const t=e.find((e=>"_execute_browser_action"===e.name)),n=e.find((e=>"lock"===e.name));this.setState({keyboardShortcut:Ee(null==t?void 0:t.shortcut),lockShortcut:Ee(null==n?void 0:n.shortcut)})}))},this.updateKeyboardShortcut=async e=>{try{await browser.commands.update({name:"_execute_browser_action",shortcut:e}),this.setState({keyboardShortcut:Ee(e)})}catch(e){throw new Error(e)}},this.updateLockShortcut=async e=>{try{await browser.commands.update({name:"lock",shortcut:e}),this.setState({lockShortcut:Ee(e)})}catch(e){throw new Error(e)}},this.handleDefaultItemListChange=e=>{this.props.updateConfig({defaultItemList:e.value}),this.setState({defaultItemListExpanded:!1})},this.handleDefaultItemListClicked=()=>{this.setState((e=>({defaultItemListExpanded:!e.defaultItemListExpanded})))},this.handleHIBPChange=()=>{this.props.updateConfig({newHibpEnabled:!this.props.newHibpEnabled})},this.createDefaultItemListElement=()=>{const t=[{title:(0,W.T)("Suggestions"),value:"suggestions",img:"/images/primary_icons/suggestions-mini.svg"},{title:(0,W.T)("Favorites"),value:"favorites",img:"/images/primary_icons/favorite-mini.svg"},{title:(0,W.T)("All Items"),value:"all",img:"/images/primary_icons/all-mini.svg"}];return(0,e.jsxs)("li",Object.assign({className:"row"},{children:[(0,e.jsx)("label",Object.assign({htmlFor:"open-1password-to-button"},{children:(0,W.T)("Open 1Password to")}),void 0),(0,e.jsx)(Te,{buttonId:"open-1password-to-button",listClass:"item-list-select",sections:[{options:t}],optionRenderer:t=>(0,e.jsxs)("span",Object.assign({className:"item-list-select-option"},{children:[(0,e.jsx)("img",{src:t.img,alt:"","aria-hidden":"true"},void 0),t.title]}),void 0),onChange:this.handleDefaultItemListChange,value:this.props.defaultItemList},void 0)]}),void 0)},this.state={autoLockInputValue:""+this.props.autoLockMinutes,keyboardShortcut:void 0,lockShortcut:void 0,iconListExpanded:!1,languageListExpanded:!1,saveInListExpanded:!1,defaultItemListExpanded:!1,privacyState:{type:"app-locked",data:void 0}},this.minuteStepper=s.createRef(),this.accountsAndVaults=s.createRef()}componentDidMount(){document.body.addEventListener("click",this.onBodyClick),this.getCurrentKeyboardShortcuts(),chrome.runtime.onMessage.addListener(this.onChromeRuntimeMessage),chrome.runtime.sendMessage({name:"get-settings-configuration"},this.handleGetSettingsConfiguration);const e=new URL(window.location.href).searchParams.get("scrollTo");if(e)switch(e){case"accountsAndVaults":this.accountsAndVaults.current&&window.scrollTo(0,this.accountsAndVaults.current.offsetTop)}}componentWillUnmount(){document.body.removeEventListener("click",this.onBodyClick),chrome.runtime.onMessage.removeListener(this.onChromeRuntimeMessage)}renderShortcutItems(t){return(0,e.jsxs)(s.Fragment,{children:[(0,e.jsxs)("li",Object.assign({className:"row multi-row"},{children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",Object.assign({htmlFor:"open-shortcut"},{children:(0,W.T)("Open with shortcut",void 0,"keyboard-shortcut.title")}),void 0),(0,e.jsx)("div",Object.assign({className:"keyboard-shortcut"},{children:this.state.keyboardShortcut}),void 0)]},void 0),t?(0,e.jsx)("div",{children:(0,e.jsx)("p",Object.assign({className:"supplemental"},{children:(0,e.jsx)("a",Object.assign({href:"#",onClick:this.handleConfigureShortcutClick},{children:(0,W.T)("Change on the Extensions page",void 0,"ext-page.link")}),void 0)}),void 0)},void 0):null]}),void 0),(0,e.jsxs)("li",Object.assign({className:"row multi-row"},{children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",Object.assign({htmlFor:"lock-shortcut"},{children:(0,W.T)("Lock with shortcut",void 0,"lock-shortcut.title")}),void 0),(0,e.jsx)("div",Object.assign({className:"keyboard-shortcut"},{children:this.state.lockShortcut}),void 0)]},void 0),t?(0,e.jsx)("div",{children:(0,e.jsx)("p",Object.assign({className:"supplemental"},{children:(0,e.jsx)("a",Object.assign({href:"#",onClick:this.handleConfigureShortcutClick},{children:(0,W.T)("Change on the Extensions page",void 0,"ext-page.link")}),void 0)}),void 0)},void 0):null]}),void 0)]},void 0)}renderPrivacyState(t){switch(t.type){case"app-locked":return(0,e.jsxs)("span",Object.assign({className:"badge",title:(0,W.T)("Unlock 1Password to manage Privacy.com integration")},{children:[(0,e.jsx)("img",{src:"/images/padlock-mini-light.svg","aria-hidden":"true"},void 0)," ",(0,W.T)("Locked")]}),void 0);case"privacy-enabled":return(0,e.jsx)("button",Object.assign({id:"privacy-button",className:"rounded_button",onClick:()=>{this.setState({privacyState:{type:"privacy-disabling",data:void 0}}),chrome.runtime.sendMessage({name:"disable-privacy-integration"})}},{children:(0,W.T)("Disable")}),void 0);case"privacy-disabled":return(0,e.jsx)("button",Object.assign({id:"privacy-button",className:"rounded_button",onClick:()=>chrome.runtime.sendMessage({name:"settings-enable-privacy-integration"})},{children:(0,W.T)("Turn on…")}),void 0);case"privacy-disabling":return(0,e.jsx)(ke,{},void 0)}}renderIntegrationsSettings(){return(0,e.jsxs)("section",{children:[(0,e.jsx)("div",Object.assign({className:"settings-head"},{children:(0,e.jsx)("h2",{children:(0,W.T)("Integrations")},void 0)}),void 0),(0,e.jsx)("ul",Object.assign({className:"settings"},{children:(0,e.jsxs)("li",Object.assign({className:"row privacy"},{children:[(0,e.jsxs)("div",Object.assign({style:{width:300}},{children:[(0,e.jsx)("label",Object.assign({htmlFor:"privacy-button"},{children:(0,e.jsx)("strong",{children:(0,W.T)("Privacy.com")},void 0)}),void 0),(0,e.jsx)("small",Object.assign({className:"sub-text"},{children:(0,W.T)("Create new virtual cards in your browser, set spending limits, and save them all in 1Password.")}),void 0)]}),void 0),(0,e.jsx)("div",{children:this.renderPrivacyState(this.state.privacyState)},void 0)]}),void 0)}),void 0)]},void 0)}render(){const{accounts:t,brainVersion:n,version:o}=this.props;if(!t)return(0,e.jsx)("p",{children:"Loading..."},void 0);return(0,e.jsxs)("div",Object.assign({className:"settings"},{children:[(0,e.jsx)("div",Object.assign({id:"left"},{children:(0,e.jsxs)("div",Object.assign({className:"rectangle card"},{children:[(0,e.jsx)("img",{src:"/images/app/app_icon.svg",width:"72",height:"72"},void 0),(0,e.jsx)("h1",Object.assign({className:"title"},{children:"1Password"}),void 0),(0,e.jsxs)("p",{children:[(0,e.jsx)("span",Object.assign({className:"version",title:n},{children:(0,W.T)("version {version}",{version:o})}),void 0),(0,e.jsx)("br",{},void 0),(0,e.jsx)("a",Object.assign({href:"https://app-updates.agilebits.com/product_history/B5X"},{children:(0,W.T)("release notes")}),void 0),(0,e.jsx)("br",{},void 0),(0,e.jsx)("a",Object.assign({href:chrome.runtime.getURL("CREDITS.md")},{children:(0,W.T)("credits")}),void 0)]},void 0)]}),void 0)}),void 0),(0,e.jsx)("div",Object.assign({id:"right"},{children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("section",{children:[(0,e.jsx)("h2",{children:(0,W.T)("Security")},void 0),(0,e.jsxs)("ul",Object.assign({className:"settings"},{children:[(0,e.jsxs)("li",Object.assign({className:"row"},{children:[(0,e.jsx)("label",Object.assign({htmlFor:"autoLock-switch"},{children:(0,W.T)("Automatically lock 1Password")}),void 0),(0,e.jsx)(we,{id:"autoLock-switch",enabled:this.props.autoLockEnabled,onChange:this.handleAutoLockEnabledChange},void 0)]}),void 0),this.props.autoLockEnabled&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("li",Object.assign({className:"row"},{children:[(0,e.jsx)("label",Object.assign({htmlFor:"autoLock-minutes"},{children:(0,W.T)("Lock after system is idle for",void 0,"auto-lock.title")}),void 0),this.createAutoLockElement()]}),void 0),(0,e.jsxs)("li",Object.assign({className:"row"},{children:[(0,e.jsx)("label",Object.assign({htmlFor:"autoLock-sleep"},{children:(0,W.T)("Lock when device goes to sleep")}),void 0),(0,e.jsx)(we,{id:"autoLock-sleep",enabled:this.props.autoLockOnDeviceSleep,onChange:this.handleAutoLockOnDeviceSleepChange},void 0)]}),void 0)]},void 0)]}),void 0),(0,e.jsx)("div",Object.assign({className:"description"},{children:(0,W.T)("1Password will always lock when you quit your browser. Locking your device will not immediately lock 1Password")}),void 0)]},void 0),(0,e.jsxs)("section",{children:[(0,e.jsx)("h2",{children:(0,W.T)("Watchtower")},void 0),(0,e.jsx)("ul",Object.assign({className:"settings"},{children:(0,e.jsxs)("li",Object.assign({className:"row"},{children:[(0,e.jsx)("label",Object.assign({htmlFor:"hibp-switch"},{children:(0,W.T)("Check for vulnerable passwords")}),void 0),(0,e.jsx)(we,{id:"hibp-switch",enabled:this.props.newHibpEnabled,onChange:this.handleHIBPChange},void 0)]}),void 0)}),void 0),(0,e.jsxs)("div",Object.assign({className:"description"},{children:[(0,W.T)("Look up saved passwords in an online database of security exploits provided by haveibeenpwned.com. This feature may pose a small risk to people who reuse similar passwords.")," ",(0,e.jsx)("a",Object.assign({href:"https://support.1password.com/watchtower-privacy/#your-passwords-are-never-sent-to-us-or-anyone-else",target:"_blank",rel:"noopener noreferrer"},{children:(0,W.T)("Learn more.")}),void 0)]}),void 0)]},void 0),(0,e.jsxs)("section",{children:[(0,e.jsx)("h2",{children:(0,W.T)("General")},void 0),(0,e.jsxs)("ul",Object.assign({className:"settings"},{children:[(0,e.jsxs)("li",Object.assign({className:"row"},{children:[(0,e.jsx)("label",Object.assign({htmlFor:"language-select-button"},{children:(0,W.T)("Language")}),void 0),(0,e.jsx)(Te,{id:"language-select",buttonId:"language-select-button",sections:[{options:K().map((e=>Object.assign({value:e.id},e)))}],optionRenderer:Me,onChange:this.handleLanguageChanged,value:this.props.language},void 0)]}),void 0),(0,e.jsxs)("li",Object.assign({className:"row"},{children:[(0,e.jsx)("label",Object.assign({htmlFor:"toolbarIcon-select-button"},{children:(0,W.T)("Toolbar button appearance")}),void 0),(0,e.jsx)(Te,{buttonId:"toolbarIcon-select-button",sections:[{options:[{title:(0,W.T)("Monochrome Icon"),value:"mono-light",img:"/images/icons/app_icon-light_bg-mono-unlocked-16.svg"},{title:(0,W.T)("Full Color Icon"),value:"color-light",img:"/images/icons/app_icon-light_bg-color-unlocked-16.svg"}]}],optionRenderer:t=>(0,e.jsx)("img",{src:t.img},void 0),onChange:this.handleIconChanged,value:this.props.icon},void 0)]}),void 0),this.createDefaultItemListElement(),this.props.itemCache&&this.createSaveNewItemsInElement(),(0,e.jsxs)("li",Object.assign({className:"row"},{children:[(0,e.jsx)("label",Object.assign({htmlFor:"default-password-manager"},{children:(0,W.T)("Make 1Password the default password manager")}),void 0),(0,e.jsx)(we,{id:"default-password-manager",enabled:this.props.defaultPasswordManager,onChange:this.handleDefaultPasswordManagerChange},void 0)]}),void 0)]}),void 0)]},void 0),(0,e.jsxs)("section",{children:[(0,e.jsx)("h2",{children:(0,W.T)("Shortcuts")},void 0),(0,e.jsx)("ul",Object.assign({className:"settings"},{children:this.renderShortcutItems(!1)}),void 0),(0,e.jsx)("div",{children:(0,e.jsx)("p",Object.assign({className:"supplemental"},{children:(0,e.jsx)("a",Object.assign({href:"#",onClick:this.handleConfigureShortcutClick},{children:(0,W.T)("Change on the Extensions page",void 0,"ext-page.link")}),void 0)}),void 0)},void 0)]},void 0),(0,e.jsxs)("section",{children:[(0,e.jsx)("h2",{children:(0,W.T)("Autofill")},void 0),(0,e.jsxs)("ul",Object.assign({className:"settings"},{children:[(0,e.jsxs)("li",Object.assign({className:"row"},{children:[(0,e.jsx)("label",Object.assign({htmlFor:"inline-enabled"},{children:(0,W.T)("Offer to fill and save passwords")}),void 0),(0,e.jsx)(we,{id:"inline-enabled",enabled:this.props.inlineEnabled,onChange:this.handleInlineEnabledChange},void 0)]}),void 0),(0,e.jsxs)("li",Object.assign({className:"row"},{children:[(0,e.jsx)("label",Object.assign({htmlFor:"inline-show-automatically"},{children:(0,W.T)("Show autofill menu on field focus")}),void 0),(0,e.jsx)(we,{id:"inline-show-automatically",enabled:this.props.inlineShowAutomatically,forceDisable:!this.props.inlineEnabled,onChange:this.handleInlineActiveChange},void 0)]}),void 0)]}),void 0)]},void 0),(0,e.jsxs)("section",{children:[(0,e.jsx)("div",Object.assign({className:"settings-head"},{children:(0,e.jsx)("h2",{children:(0,W.T)("Notifications")},void 0)}),void 0),(0,e.jsxs)("ul",Object.assign({className:"settings"},{children:[(0,e.jsxs)("li",Object.assign({className:"row"},{children:[(0,e.jsx)("label",Object.assign({htmlFor:"show-notifications"},{children:(0,W.T)("Allow 1Password to show notifications")}),void 0),(0,e.jsx)(we,{id:"show-notifications",enabled:this.props.showNotifications,onChange:()=>this.handleNotificationChange(Re.All)},void 0)]}),void 0),(0,e.jsxs)("li",Object.assign({className:"row"},{children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",Object.assign({htmlFor:"watchtower-notifications"},{children:(0,e.jsx)("strong",{children:(0,W.T)("Watchtower alerts")},void 0)}),void 0),(0,e.jsx)("small",Object.assign({className:"sub-text"},{children:(0,W.T)("When a website that you have an account for has been added to Watchtower.")}),void 0)]},void 0),(0,e.jsx)(we,{id:"watchtower-notifications",enabled:this.props.watchtowerNotifications,onChange:()=>this.handleNotificationChange(Re.Watchtower),forceDisable:!1===this.props.showNotifications},void 0)]}),void 0)]}),void 0)]},void 0),this.renderIntegrationsSettings(),(0,e.jsxs)("section",Object.assign({id:"accountsAndVaults",ref:this.accountsAndVaults},{children:[(0,e.jsxs)("div",Object.assign({className:"settings-head"},{children:[(0,e.jsx)("h3",{children:(0,W.T)("Include in All Vaults")},void 0),(0,e.jsx)("h2",{children:(0,W.T)("Accounts & Vaults")},void 0)]}),void 0),(0,e.jsx)(_e,{itemCache:this.props.itemCache,accounts:this.props.accounts,onAccountOpenHomePage:this.props.onAccountOpenHomePage,onAccountSignOut:this.props.onAccountSignOut,onOpenVaultDetails:this.props.onOpenVaultDetails},void 0)]}),void 0)]},void 0)}),void 0),(0,e.jsx)(Oe,{},void 0)]}),void 0)}}function Me(t){return(0,e.jsx)("span",{children:t.name===t.localizedName?t.name:`${t.name} (${t.localizedName})`},void 0)}class Fe extends s.Component{constructor(e){super(e)}UNSAFE_componentWillMount(){document.body.classList.remove("panel"),document.body.classList.add("door")}render(){return(0,e.jsxs)("div",{children:[(0,e.jsxs)("section",Object.assign({id:"signin"},{children:[(0,e.jsxs)("div",Object.assign({id:"top-door"},{children:[(0,e.jsxs)("div",Object.assign({id:"lock"},{children:[(0,e.jsx)("div",{id:"keyhole-center"},void 0),(0,e.jsx)("div",{id:"keyhole"},void 0),(0,e.jsx)("div",{id:"keyhole-highlight"},void 0)]}),void 0),(0,e.jsx)("div",{className:"lock-color"},void 0),(0,e.jsx)("div",{className:"lock-color light"},void 0)]}),void 0),(0,e.jsx)("div",Object.assign({id:"bottom-door"},{children:(0,e.jsx)("div",Object.assign({id:"content"},{children:this.props.children}),void 0)}),void 0)]}),void 0),(0,e.jsx)("div",{children:(0,e.jsxs)("footer",Object.assign({className:"center"},{children:[(0,e.jsx)("a",Object.assign({href:"https://1password.com"},{children:(0,e.jsx)("img",{src:"/images/popup/locked-signup.svg",alt:"1Password"},void 0)}),void 0),(0,e.jsxs)("p",Object.assign({className:"small supplemental"},{children:["1Password ",(0,e.jsx)("span",Object.assign({id:"version"},{children:(0,W.T)("version {version}",{version:this.props.version})}),void 0)]}),void 0),(0,e.jsxs)("p",Object.assign({className:"small supplemental"},{children:["© ",(new Date).getFullYear()," AgileBits, Inc. All rights reserved. 317 Adelaide Street West, Toronto, Ontario, M5V1P9, Canada."]}),void 0)]}),void 0)},void 0)]},void 0)}}class Ue extends s.Component{UNSAFE_componentWillMount(){document.body.classList.add("panel"),document.body.classList.remove("door")}render(){return(0,e.jsxs)("div",{children:[(0,e.jsx)("header",Object.assign({id:"panel-header"},{children:(0,e.jsx)("img",{src:"/images/icons/onepassword-128.png",width:"48",alt:"1Password"},void 0)}),void 0),(0,e.jsx)("div",Object.assign({id:"panel"},{children:this.props.children}),void 0)]},void 0)}}class Ve extends s.Component{handleSignIn(){window.location.href="https://start.1password.com/signin/?auth-only=1"}render(){return(0,e.jsxs)("div",{children:[(0,e.jsx)("h1",Object.assign({className:"title"},{children:W.T.$("Welcome to 1Password")}),void 0),(0,e.jsxs)("div",Object.assign({id:"account"},{children:[(0,e.jsx)("p",Object.assign({className:"supplemental"},{children:(0,W.T)("If you have a 1Password account, sign in to get started.",void 0,"sign-in.desc")}),void 0),(0,e.jsx)("button",Object.assign({id:"signInButton",onClick:this.handleSignIn},{children:(0,W.T)("Sign In")}),void 0),(0,e.jsxs)("p",Object.assign({className:"supplemental"},{children:[(0,W.T)("Don't have an account yet?"),(0,e.jsx)("br",{},void 0),(0,e.jsx)("a",Object.assign({href:"https://start.1password.com/signup/"},{children:(0,W.T)("Create your 1Password account")}),void 0)]}),void 0)]}),void 0)]},void 0)}}class We extends s.Component{constructor(){super(...arguments),this.renderTitle=()=>{switch(this.props.appState){case"DesktopAppNeedsAccounts":return`${(0,W.T)("1Password is almost ready to go!")} 🎉`;case"DesktopAppUnlocked":case"DesktopAppLocked":case"Standalone":return`${(0,W.T)("1Password is ready to go!")} 🎉`}},this.renderSubtitle=()=>{switch(this.props.appState){case"DesktopAppNeedsAccounts":return W.T.$("<link /> to get started!",{link:()=>(0,e.jsx)("a",Object.assign({target:"_blank",href:"https://start.1password.com/native/signin",rel:"noreferrer"},{children:(0,W.T)("Sign In")}),void 0)});case"DesktopAppLocked":return W.T.$("Click <button /> in your toolbar to unlock 1Password.",{button:()=>(0,e.jsx)("img",{alt:"1Password",className:"app-icon",src:"/images/icons/app_icon-light_bg-color-locked-24.svg"},void 0)});case"DesktopAppUnlocked":case"Standalone":return W.T.$("Click <button /> in your toolbar to access 1Password at any time.",{button:()=>(0,e.jsx)("img",{alt:"1Password",className:"app-icon",src:"/images/icons/app_icon-light_bg-color-unlocked-24.svg"},void 0)})}},this.createVideoElement=()=>(0,e.jsx)("a",Object.assign({id:"video-placeholder",href:"https://www.youtube.com/watch?v=YaUE11OOrME",target:"_blank",rel:"noreferrer noopener"},{children:(0,e.jsx)("img",{alt:(0,W.T)("Play welcome video"),srcSet:"/images/app/getting-started-video.png 2x"},void 0)}),void 0)}render(){return(0,e.jsxs)("div",{children:[(0,e.jsxs)("section",Object.assign({className:"center"},{children:[(0,e.jsxs)("header",{children:[(0,e.jsx)("h1",{children:this.renderTitle()},void 0),(0,e.jsx)("h2",{children:this.renderSubtitle()},void 0)]},void 0),(0,e.jsxs)("p",{children:["📘 ",(0,W.T)("New to 1Password?")," ",(0,e.jsx)("a",Object.assign({target:"_blank",href:"https://support.1password.com/getting-started-browser",rel:"noreferrer"},{children:(0,W.T)("Learn how to get started.")}),void 0)]},void 0),(0,e.jsx)("p",Object.assign({className:"helpLink"},{children:W.T.$("If you don't see the 1Password icon in your browser toolbar, check out <link />",{link:()=>(0,e.jsx)("a",Object.assign({target:"_blank",href:"https://support.1password.com/missing-browser-button#chrome",rel:"noreferrer"},{children:(0,W.T)("this article.")}),void 0)})}),void 0)]}),void 0),(0,e.jsx)("section",{children:(0,e.jsx)("div",Object.assign({className:"video-container"},{children:this.createVideoElement()}),void 0)},void 0)]},void 0)}}function ze(t){const[n,o]=(0,s.useState)(t.desktopAppState);if((0,s.useEffect)((()=>{const e=e=>{"desktop-app-state-changed"===(null==e?void 0:e.name)&&e.data&&o(e.data)};return chrome.runtime.onMessage.addListener(e),()=>chrome.runtime.onMessage.removeListener(e)}),[]),"Connecting"===n.type)return(0,e.jsx)(Ue,{children:(0,e.jsxs)("div",{children:[(0,e.jsx)("section",Object.assign({className:"center"},{children:(0,e.jsxs)("span",{children:[(0,W.T)("Loading 1Password..."),(0,e.jsx)(ke,{},void 0)]},void 0)}),void 0),(0,e.jsx)(Oe,{},void 0)]},void 0)},void 0);if("Connected"===n.type){let t;return t=n.unlocked?"DesktopAppUnlocked":n.numberOfAccounts>0?"DesktopAppLocked":"DesktopAppNeedsAccounts",(0,e.jsx)(Ue,{children:(0,e.jsx)(We,{appState:t},void 0)},void 0)}return t.signedIn?(0,e.jsx)(Ue,{children:(0,e.jsx)(We,{appState:"Standalone"},void 0)},void 0):(0,e.jsx)(Fe,Object.assign({version:t.version},{children:(0,e.jsx)(Ve,{},void 0)}),void 0)}class Be extends s.Component{constructor(e){super(e),this.hasAccounts=()=>this.props.accounts.length>0,this.updateConfig=e=>{this.setState((t=>({config:Object.assign(Object.assign({},t.config),e)}))),this.props.updateFromConfig(e)},this.onAccountSignOut=e=>{this.props.signOut(e)},this.onAccountOpenHomePage=e=>{this.props.openHomePage(e)},this.state={config:e.initialConfig}}render(){return(0,e.jsxs)(fe,{children:[(0,e.jsx)(xe,{path:"/page/welcome",render:t=>(0,e.jsx)(ze,Object.assign({},t,{desktopAppState:this.props.desktopAppState,signedIn:this.hasAccounts(),version:this.props.version}),void 0)},void 0),(0,e.jsx)(xe,{path:"/page/ready",render:t=>(0,e.jsx)(ze,Object.assign({},t,{desktopAppState:this.props.desktopAppState,signedIn:!0,version:this.props.version}),void 0)},void 0),(0,e.jsx)(xe,{path:"/page/settings",render:t=>(0,e.jsx)(De,Object.assign({},t,{accounts:this.props.accounts,autoLockEnabled:this.state.config.autoLockEnabled,autoLockMinutes:this.state.config.autoLockMinutes,autoLockOnDeviceSleep:this.state.config.autoLockOnDeviceSleep,autoSaveEnabled:this.state.config.autoSaveEnabled,autoSaveExceptions:this.state.config.autoSaveExceptions,brainVersion:this.props.brainVersion,defaultPasswordManager:this.state.config.defaultPasswordManager,defaultVault:this.props.defaultVault,icon:this.state.config.icon,inlineEnabled:this.state.config.inlineEnabled,inlineShowAutomatically:this.state.config.inlineShowAutomatically,language:this.state.config.language,onOpenVaultDetails:this.props.openVaultDetails,onAccountOpenHomePage:this.onAccountOpenHomePage,onAccountSignOut:this.onAccountSignOut,saveNewItemIn:this.state.config.saveNewItemsIn,showNotifications:this.state.config.showNotifications,updateConfig:this.updateConfig,updateIcon:this.props.updateIcon,version:this.props.version,itemCache:this.props.itemCache,defaultItemList:this.state.config.defaultItemList,newHibpEnabled:this.state.config.newHibpEnabled,watchtowerNotifications:this.state.config.watchtowerNotifications}),void 0)},void 0)]},void 0)}}function He(){return new Promise((e=>{chrome.runtime.getBackgroundPage((t=>{e(t.bg)}))}))}async function $e(){(await He()).onepassword.updateBrowserAction()}function qe(e,t){e.onepassword.removeAccount(t).then((()=>{Je()}))}async function Ye(e){(await He()).onepassword.openHomePage(e)}async function Ge(e){(await He()).onepassword.openVaultDetailsPage(e)}async function Je(){const n=await He();W.T.set(n.onepassword.loadI18nConfig());const o=await n.onepassword.loadItemCache(),i=await n.onepassword.getAllAccounts(),s=await n.onepassword.loadVersionFromManifest(),a=n.onepassword.getDesktopAppState();let r;try{const[,e]=await n.onepassword.defaultSavingLocation();r=e.uuid}catch(e){}t.render((0,e.jsx)(V,{children:(0,e.jsx)(Be,{accounts:i,brainVersion:"0945fa74",initialConfig:te(),openHomePage:Ye,openVaultDetails:Ge,signOut:qe.bind(this,n),updateFromConfig:n.onepassword.updateFromConfig,updateIcon:$e,version:s,itemCache:o,defaultVault:r,desktopAppState:a},void 0)},void 0),document.getElementById("root"))}window.addEventListener("load",Je)})()})();